
Процедура ОбработкаПроведения(Отказ, РежимПроведения)

    // Проверка суммы
    Если СуммаДокумента = 0 Тогда
        Сообщить("Сумма документа равна 0.");
        Отказ = Истина;
        Возврат;
    КонецЕсли;

    // Запись движений в регистр
    Движения.ВзаиморасчетыСКлиентами.Записывать = Истина;

    Движение = Движения.ВзаиморасчетыСКлиентами.Добавить();
    Движение.Период = Дата;
    Движение.Активность = Истина;
    Движение.ВидДвижения = ВидДвиженияНакопления.Приход;   // долг вырос
    Движение.Контрагент = Контрагент;
    Движение.Сумма = СуммаДокумента;

КонецПроцедуры
